<!-- Icon List -->
<ul class="icon-list">
  {% for post in paginator.posts %}
    <!-- If it's the second post, show the ad AND the current post -->
    {% if forloop.index0 == 1 and site.theeme.ad_script %}
      <li>
        {{ site.theeme.ad_script }}
      </li>
    {% endif %}
    <li>
      <a href="{{ post.url | prepend: site.baseurl }}" title="{{ post.title }}">
        <span class="icon-wrapper icon-wrapper--128">
          <img
            alt="{{ post.title }} app icon"
            class="icon icon--128"
            src="{% include icon-src.html.liquid size="128" %}"
            srcset="{% include icon-src.html.liquid size="256" %} 2x"
          />
        </span>
      </a>
    </li>
  {% endfor %}
</ul>

<!-- Pagination -->
<nav class="pagination">

  {% assign paginatorURL = site.baseurl | append:'/p' %}

  <!-- Prev -->
  {% if paginator.previous_page %}
    {% assign prevPage = paginator.page | minus: 1 %}
    <a
      {% if prevPage < 2 %}
        href="{{ site.baseurl | append: '/' }}"
      {% else %}
        href="{{ paginatorURL }}/{{ prevPage }}"
      {% endif %}
      class="pagination__button"
    >
  {% else %}
    <span class="pagination__button">
  {% endif %}
  {% include svgcon.svg.liquid id='caret-left' %} Prev
  {% if paginator.previous_page %}
    </a>
  {% else %}
    </span>
  {% endif %}

  <!-- Page X of Y -->
  <!-- @TODO if has js, show/hide <select> -->
  <p class="pagination__jump-to">
    
    Page

    <select onchange="myFunc()" id="paginator-select">
      {% for i in (1..paginator.total_pages) %}
        <option {% if i == paginator.page %}selected="selected"{% endif %}>
          {{ i }}
        </option>
      {% endfor %}
    </select>
    <script>
      function myFunc() {
        var value = document.getElementById("paginator-select").value;
        // If it's not 1, go to it. Otherwise, it's the home page (i.e. "1").
        if (value > 1) {
          window.location.href = window.location.origin + '/p/' + value;
        } else {
          window.location.href = window.location.origin;
        }
      }
    </script>

    of {{ paginator.total_pages }}
  </p>

  <!-- Next -->
  {% if paginator.next_page %}
    <a href="{{ paginatorURL }}/{{ paginator.page | plus: 1 }}" class="pagination__button">
  {% else %}
    <span class="pagination__button">
  {% endif %}
  Next {% include svgcon.svg.liquid id='caret-right' %}
  {% if paginator.next_page %}
    </a>
  {% else %}
    </span>
  {% endif %}
</nav>
